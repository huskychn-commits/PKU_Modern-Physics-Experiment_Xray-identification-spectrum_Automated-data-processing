# X射线标识谱实验数据处理系统

## 项目概述

本项目是一个自动化的X射线标识谱实验数据处理系统，能够根据实验数据自动生成实验报告中所需的所有图片。系统通过读取配置文件，按顺序调用相应的数据处理脚本，生成标准化的实验图片。

## 自动生成的图片

系统会自动生成以下10张实验报告图片：

| 图片序号 | 图片名称 | 生成脚本 | 描述 |
|---------|---------|---------|------|
| 图III.1.1 | 信号处理例 | `MSL/高斯峰拟合.py` | 展示高斯峰拟合的信号处理示例 |
| 图III.1.2 | 谱线与原子序数关系图 | `MSL/process_msl_data.py` | 展示谱线位置与原子序数的关系 |
| 图III.1.3 | 莫塞莱定律的验证 | `MSL/process_msl_data.py` | 验证莫塞莱定律的实验数据 |
| 图III.1.4 | 通过对比实验数据和资料，确定道系数和屏蔽系数 | `MSL/msl_linearfit_Sigma=2.py` | 确定道系数和屏蔽系数的对比分析 |
| 图III.1.5 | 实验数据与相对论理论预言对比图 | `MSL/msl_linearfit_Sigma=2.py` | 实验数据与相对论理论预言的对比 |
| 图III.2.1 | 不同靶材特征谱线在铝板中的衰减 | `Absorb/decay_rate.py` | 不同靶材特征谱线在铝板中的衰减曲线 |
| 图III.2.2 | 不同靶材特征谱线在铝板中的衰减系数 | `Absorb/decay_rate.py` | 衰减系数的统计分析 |
| 图III.2.3 | 经验标度率的确定 | `Absorb/decay_rate.py` | 经验标度率的确定与分析 |
| 图V.1.1 | 相对论理论和非相对论理论与数据的对比 | `MSL/plot_kalpha_vs_z.py` | 相对论与非相对论理论与实验数据的对比 |
| 图VI-1.4.1 | 康普顿散射中电子获得的能量 | `Compton.py` | 康普顿散射中电子获得能量的分析 |

## 使用方法

### 1. 一键生成所有图片

只需运行`Auto.py`程序，系统将自动生成所有实验报告图片：

```bash
python Auto.py
```

### 2. 运行结果

程序运行后，所有生成的图片将保存在`Figures/`目录中，文件名格式为`图片序号 - 图片名称.png`。

### 3. 查看生成的图片

生成的图片包括：
- `Figures/图III.1.1 - 信号处理例.png`
- `Figures/图III.1.2 - 谱线与原子序数关系图.png`
- `Figures/图III.1.3 - 莫塞莱定律的验证.png`
- `Figures/图III.1.4 - 通过对比实验数据和资料，确定道系数和屏蔽系数.png`
- `Figures/图III.1.5 - 实验数据与相对论理论预言对比图.png`
- `Figures/图III.2.1 - 不同靶材特征谱线在铝板中的衰减.png`
- `Figures/图III.2.2 - 不同靶材特征谱线在铝板中的衰减系数.png`
- `Figures/图III.2.3 - 经验标度率的确定.png`
- `Figures/图V.1.1 - 相对论理论和非相对论理论与数据的对比.png`
- `Figures/图VI-1.4.1 - 康普顿散射中电子获得的能量.png`

## 项目结构

```
.
├── README.md                    # 项目说明文档（本文件）
├── Auto.py                      # 主程序：自动生成所有图片
├── bin/                         # 数据处理脚本目录
│   ├── 实验报告图片生成对应表.csv # 图片生成配置表
│   ├── Absorb/                  # 吸收实验数据处理脚本
│   ├── MSL/                     # 莫塞莱定律实验数据处理脚本
│   ├── Compton.py               # 康普顿散射数据处理脚本
│   └── README.md                # 脚本说明文档
├── Figures/                     # 生成的图片保存目录
└── .gitignore                   # Git忽略文件配置
```

## 配置说明

图片生成顺序和对应脚本由`bin/实验报告图片生成对应表.csv`文件控制：

```csv
图片序号,图片名称,生成代码
图III.1.1,信号处理例,MSL/高斯峰拟合.py
图III.1.2,谱线与原子序数关系图,MSL/process_msl_data.py
...
```

## 系统要求

- Python 3.7+
- 所需Python包：
  - numpy
  - matplotlib
  - pandas
  - scipy

## 注意事项

1. 首次运行前，请确保已安装所有必需的Python包
2. 生成的图片将保存在`Figures/`目录中，该目录已被`.gitignore`忽略
3. 如需修改图片生成顺序或添加新图片，请编辑`bin/实验报告图片生成对应表.csv`文件
4. 各数据处理脚本已针对实验数据进行了优化，如需调整参数请直接修改对应脚本

## 版本历史

- v1.0 (2025-12-16): 实现了全自动图像生成系统
  - 创建Auto.py主程序
  - 重构项目结构，将脚本组织到bin/目录
  - 添加.gitignore忽略生成的文件
  - 添加README文档

## 作者

北京大学 陈思源

## 许可证

本项目仅供学术研究使用。
